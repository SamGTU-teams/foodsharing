CREATE TABLE public.region (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR(63) NOT NULL,
    lat DOUBLE PRECISION,
    lon DOUBLE PRECISION,
    CONSTRAINT PK_REGION PRIMARY KEY (id)
);

CREATE TABLE public.category (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR(63) NOT NULL,
    CONSTRAINT PK_CATEGORY PRIMARY KEY (id)
);

CREATE TABLE public.product (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR(63) NOT NULL,
    category_id BIGINT,
    CONSTRAINT PK_PRODUCT PRIMARY KEY (id)
);

ALTER TABLE public.region ADD CONSTRAINT UQ_REGION_NAME UNIQUE (name);

ALTER TABLE public.category ADD CONSTRAINT UQ_CATEGORY_NAME UNIQUE (name);

ALTER TABLE public.product ADD CONSTRAINT UQ_PRODUCT_NAME UNIQUE (name);
ALTER TABLE public.product ADD CONSTRAINT FK_PRODUCT_ON_CATEGORY FOREIGN KEY (category_id) REFERENCES public.category (id);
